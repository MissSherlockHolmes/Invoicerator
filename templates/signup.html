<!DOCTYPE html>
<html>

<head>
    <title>Sign Up - Invoicerator</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <link rel="stylesheet" href="/static/css/styles.css" />
</head>

<body>
    {{template "translator.html" .}}
    <div class="page-wrapper">
        <div class="container">
            <div class="row justify-content-center">
                <div class="col-md-6">
                    <h2 class="text-center mb-4">Create an Account</h2>

                    {{if .Error}}
                    <div class="alert alert-danger" role="alert">
                        {{.Error}}
                    </div>
                    {{end}}

                    <form action="/signup" method="post">
                        <div class="mb-3">
                            <label for="username" class="form-label">Username:</label>
                            <input type="text" id="username" name="username" class="form-control" required>
                        </div>
                        <div class="mb-3">
                            <label for="password" class="form-label">Password:</label>
                            <input type="password" id="password" name="password" class="form-control" required>
                        </div>
                        <div class="d-grid">
                            <button type="submit" class="btn btn-primary">Sign Up</button>
                        </div>
                    </form>

                    <p class="mt-3 text-center">Already have an account? <a href="/login"
                            class="text-decoration-none">Login here</a></p>
                </div>
            </div>
        </div>
    </div>
    {{if .Success}}
    <script>
        window.onload = function () {
            showSuccessDialog();
        };
    </script>
    {{end}}

    <script>
        function showSuccessDialog() {
            // Create the dialog overlay
            const dialog = document.createElement('div');
            dialog.className = 'success-dialog';
            dialog.innerHTML = `
                <div class="dialog-content">
                    <h2>SIGN UP SUCCESSFUL!</h2>
                    <p>Redirecting you to your profile page...</p>
                </div>
            `;
            document.body.appendChild(dialog);
    
            // Style the dialog overlay
            dialog.style.position = 'fixed';
            dialog.style.top = '0';
            dialog.style.left = '0';
            dialog.style.width = '100%';
            dialog.style.height = '100%';
            dialog.style.backgroundColor = 'rgba(0, 0, 0, 0.8)';
            dialog.style.display = 'flex';
            dialog.style.justifyContent = 'center';
            dialog.style.alignItems = 'center';
            dialog.style.color = '#00bfff';
            dialog.style.fontFamily = 'Arial, sans-serif';
            dialog.style.zIndex = '1000';
    
            // Style the content box
            const content = dialog.querySelector('.dialog-content');
            content.style.backgroundColor = '#333';
            content.style.padding = '40px 60px';
            content.style.borderRadius = '15px';
            content.style.textAlign = 'center';
            content.style.boxShadow = '0 8px 30px rgba(0, 191, 255, 0.5)';
            content.style.transform = 'scale(0.7)';
            content.style.transition = 'transform 0.5s ease-out';
    
            // Text styling
            content.querySelector('h2').style.color = '#00bfff';
            content.querySelector('h2').style.marginBottom = '15px';
            content.querySelector('h2').style.fontSize = '2rem';
            content.querySelector('p').style.color = '#ddd';
            content.querySelector('p').style.fontSize = '1.1rem';
    
            // Smooth scaling animation for pop-up
            setTimeout(() => {
                content.style.transform = 'scale(1)';
            }, 100);
    
            // Redirect after a few seconds
            setTimeout(() => {
                window.location.href = '/profile';
            }, 1500); // Redirect after 3 seconds
        }
    </script>
    

</body>

</html>